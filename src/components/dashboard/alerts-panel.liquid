{% assign alerts = include.alerts %}
{% if alerts and alerts != empty %}
  <section class="dashboard-section dashboard-alerts">
    <div class="container">
      <div class="dashboard-section__header d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-lg-center mb-3">
        <div>
          <h2 class="dashboard-section__title h4 mb-2">
            Active Alerts
          </h2>
          <p class="dashboard-section__hint mb-0 text-muted">
            Prioritized signal feed sourced from the dashboard metrics contract.
          </p>
        </div>
        <div class="dashboard-alerts__filters btn-group mt-3 mt-lg-0" role="group" aria-label="Filter alerts by severity">
          <button type="button" class="btn btn-outline-secondary btn-sm active" data-alert-filter value="all">
            All
          </button>
          <button type="button" class="btn btn-outline-secondary btn-sm" data-alert-filter value="critical">
            Critical
          </button>
          <button type="button" class="btn btn-outline-secondary btn-sm" data-alert-filter value="high">
            High
          </button>
          <button type="button" class="btn btn-outline-secondary btn-sm" data-alert-filter value="medium">
            Medium
          </button>
          <button type="button" class="btn btn-outline-secondary btn-sm" data-alert-filter value="low">
            Low
          </button>
        </div>
      </div>
      <div class="dashboard-alerts__list row g-3" data-alerts-list>
        {% for alert in alerts %}
          <div class="col-12 col-md-6">
            <article class="dashboard-alert card h-100 severity-{{ alert.severity }}" data-alert-severity="{{ alert.severity }}">
              <div class="card-body">
                <header class="dashboard-alert__header d-flex align-items-center mb-2">
                  <span class="badge text-bg-danger text-uppercase me-2">
                    {{ alert.severity }}
                  </span>
                  <h3 class="dashboard-alert__title h6 mb-0">
                    {{ alert.title }}
                  </h3>
                </header>
                <p class="dashboard-alert__message mb-3">
                  {{ alert.message }}
                </p>
                {% if alert.cta %}
                  <a
                    class="dashboard-alert__cta btn btn-sm btn-outline-primary"
                    href="{{ alert.cta.href }}"
                  >
                    {{ alert.cta.label }}
                  </a>
                {% endif %}
              </div>
            </article>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
{% endif %}
